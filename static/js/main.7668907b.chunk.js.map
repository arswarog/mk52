{"version":3,"sources":["scss/images/underline.png","assets/sticker.png","elektronika/core/commands.ts","components/Sticker.tsx","elektronika/l18n/index.ts","elektronika/viewTools.ts","pages/Program.tsx","pages/About.tsx","pages/Programs.tsx","elektronika/core/register.ts","elektronika/core/registers.ts","elektronika/calculator.interface.ts","elektronika/calculator.ts","elektronika/core/stack.ts","elektronika/core/program.ts","elektronika/common.ts","elektronika/core/core-alu.ts","elektronika/core/core.ts","elektronika/models/mk52.ts","models/mk-core/mk-core.actions.ts","models/mk-core/mk-core.atom.ts","pages/Debug.tsx","models/github/github.types.ts","models/github/github.actions.ts","models/github/github.atom.ts","pages/Github.tsx","pages/GithubView.tsx","pages/CmdSet.tsx","components/Button.tsx","components/CalcKeyboard.tsx","models/keyboard/keyboard.actions.ts","models/keyboard/keyboard.atom.ts","components/Calculator.tsx","App.tsx","serviceWorker.ts","keyboard.ts","store.ts","index.tsx"],"names":["module","exports","Cmd","backgroundImage","sticker","Sticker","link","text","desc","rotate","hueRotate","className","style","transform","filter","to","activeClassName","src","underline","CmdCodes","CmdAsm","Object","keys","forEach","cmd","code","toLowerCase","keyLabels","F","K","AUTO","PROGRAM","EPROM_TRANSFERR","EPROM_ADDRESS","SST","BST","RTN","R_S","GT","LT","EQ","NEQ","L0","L1","L2","L3","goto","RtX","XtR","Sub","Num1","Num2","Num3","Num4","Num5","Num6","Num7","Num8","Num9","Num0","Dot","Sign","Minus","Plus","Mul","Div","Enter","Swap","RestoreX","Ring","EntExp","ClX","sin","cos","tg","asin","acos","atg","sqr","sqrt","pi","antifunc","exp","lg","ln","rXY","r10x","CF","max","int","frac","abs","sign","or","xor","and","not","NOP","random","fau_m","tau_m","fau_ms","tau_ms","addressCommands","codeLabels","programToView","program","isNextAddress","bytes","reduce","codes","command","line","length","push","substr","indexOf","prg","Program","map","index","key","cmdi","AboutPage","Programs","Register","value","mantissa","negative","assign","this","intNormalize","parseInt","toString","num","InputRegister","input","bigNumber","exponential","toExponential","fromExponential","console","log","match","Error","rawMantissa","rawExp","dotIndexOf","replace","register","Math","round","reg","sum","mant","buildString","repeat","dot","exponent","RegisterName","registerNames","values","Registers","obj","isRegisterName","get","makeByMap","set","Map","CoreCommandType","CalculatorStatus","Stack","stack","x1","x","y","z","t","canInput","enter","insert","completeInput","Array","fill","address","Calculator","core","init","status","registers","stat","executed","lastRunExecuted","Standart","empty","state","calc","changes","result","_keyPress","clone","cmdf","cmdk","type","Single","_exec","WithRegister","isCmdNumber","operation","cmdToNumber","WithAddress","execute","MKButton","kbCode","color","textf","textk","registerText","labels","makeButton","kb","main","f","k","button","Number","isNaN","add","xx","BigNumber","toNumber","yy","r","plus","fromBigNumber","multiply","xm","ym","res","BaseMKCore","changeSign","op2","op1","swap","calculator","freeze","MK52Core","MK52Keyboard","pressButton","declareAction","NS","MKCore","declareAtom","on","keyPress","Debug","useAtom","viewProgramBytes","colSpan","R0","R5","RA","R1","R6","RB","R2","R7","RC","R3","R4","R9","RE","UrlType","loadList","loadListFailed","loadUri","loadingUri","loadUriFailed","Github","uri","files","dirs","loading","urlDetails","Programm","vendor","repo","branch","path","action","tree","item","title","error","message","info","documentation_url","GithubPage","handleLoadUri","useAction","onClick","GithubView","params","useParams","CmdSet","Button","props","cfg","config","press","React","CalcKeyboard","html","keyboard","btns","btn","kindex","setKeyboardLayout","Keyboard","_","payload","display","handlerPressButton","stickers","App","component","exact","Boolean","window","location","hostname","keyReplaceMap","Digit1","Digit2","Digit3","Digit4","Digit5","Digit6","Digit7","Digit8","Digit9","Digit0","keyMap","dispatch","store","createStore","combine","connectReduxDevtools","document","addEventListener","bind","event","subscribe","buttons","row","ReactDOM","render","StrictMode","Provider","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.7668907b.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/sticker.1858681f.png\";","export enum Cmd {\n    F               = 'F',\n    K               = 'K',\n    AUTO            = '',\n    PROGRAM        = '',\n    EPROM_TRANSFERR = '',\n    EPROM_ADDRESS   = '',\n    SST             = '', // step ->\n    BST             = '', // step <-\n    Num0            = '00',\n    Num1            = '01',\n    Num2            = '02',\n    Num3            = '03',\n    Num4            = '04',\n    Num5            = '05',\n    Num6            = '06',\n    Num7            = '07',\n    Num8            = '08',\n    Num9            = '09',\n    Dot             = '0a',\n    Sign            = '0b',\n    EntExp          = '0c', // Enter Exp\n    ClX             = '0d', // Clear X\n    Enter           = '0e',\n    RestoreX        = '0f',\n    Plus            = '10',\n    Minus           = '11',\n    Mul             = '12',\n    Div             = '13',\n    Swap            = '14',\n    r10x            = '15', // 10^x\n    lg              = '17',\n    ln              = '18',\n    asin            = '19',\n    acos            = '1a',\n    atg             = '1b',\n    sin             = '1c',\n    cos             = '1d',\n    tg              = '1e',\n    pi              = '20',\n    sqrt            = '21',\n    sqr             = '22',\n    antifunc        = '23',\n    rXY             = '24', // x^y\n\n    XtR             = '4x', // X->П\n\n    RtX             = '6x', // П->X\n\n    Ring            = '',\n    max             = '36',\n    exp             = '',\n    CF              = '',\n    int             = '34', // [x]\n    frac            = '35', // {x}\n    abs             = '31', // |x|\n    sign            = '32', // sign of number\n    or              = '',\n    xor             = '',\n    and             = '',\n    not             = '3a',\n    random          = '3b',\n    fau_m           = '',\n    tau_m           = '',\n    fau_ms          = '',\n    tau_ms          = '',\n    NOP             = '54',\n    RTN             = '', // Return\n    R_S             = '', // Stop start\n    GT              = '59',//x >=0\n    LT              = '5c', // x<0\n    EQ              = '5e', // x==0\n    NEQ             = '57', // X!=0\n    L0              = '5d',\n    L1              = '5b',\n    L2              = '58',\n    L3              = '5a',\n    goto            = '51',\n    Sub             = '', // procedure\n}\n\nexport const CmdCodes: {[code: string]: string} = {};\n\nexport const CmdAsm: {[code: string]: Cmd} = {};\n\nObject.keys(Cmd).forEach(\n    cmd => {\n        const code                = (Cmd as any)[cmd];\n        CmdCodes[code]            = cmd;\n        CmdAsm[cmd.toLowerCase()] = code;\n    },\n);\n","//import activeComponent from 'react-router-active-component'\n//let NavItem = activeComponent('li');\n//...\n//<NavItem to='/' onlyActiveOnIndex>Home</NavItem>\n//<NavItem to='/generate-keywords'>Generate keywords</NavItem>\n\nimport * as React from 'react';\nimport { NavLink } from 'react-router-dom';\nimport underline from '../scss/images/underline.png';\nimport sticker from '../assets/sticker.png';\n\nexport interface IStickerProps {\n    text: string,\n    desc?: string,\n    rotate: number,\n    link: string,\n    hueRotate: number,\n}\n\nconst backgroundImage = `url(${sticker})`;\n\nexport const Sticker = ({link, text, desc, rotate, hueRotate}: IStickerProps) => (\n    <div className=\"sticker\">\n        <div style={{\n            backgroundImage,\n            transform: `rotate(${rotate}deg)`,\n            filter: `hue-rotate(${hueRotate}deg)`,\n        }}>\n            <NavLink to={link} activeClassName=\"active\">\n                <h5>{text}</h5>\n                {desc}\n                <img src={underline}/>\n            </NavLink>\n        </div>\n    </div>\n);\n","import { Cmd } from '../core/commands';\n\nexport const keyLabels: {[key: string]: string} = {\n    [Cmd.F]              : 'F',\n    [Cmd.K]              : 'K',\n    [Cmd.AUTO]           : 'АВТ',\n    [Cmd.PROGRAM]       : 'ПРГ',\n    [Cmd.EPROM_TRANSFERR]: '⇵',\n    [Cmd.EPROM_ADDRESS]  : 'А↑',\n    [Cmd.SST]            : 'ШГ→',\n    [Cmd.BST]            : 'ШГ←',\n    [Cmd.RTN]            : 'В/О',\n    [Cmd.R_S]            : 'С/П',\n    [Cmd.GT]             : 'x⩾0',\n    [Cmd.LT]             : 'x<0',\n    [Cmd.EQ]             : 'x=0',\n    [Cmd.NEQ]            : 'x≠0',\n    [Cmd.L0]             : 'L0',\n    [Cmd.L1]             : 'L1',\n    [Cmd.L2]             : 'L2',\n    [Cmd.L3]             : 'L3',\n    [Cmd.goto]           : 'БП',\n    [Cmd.RtX]            : 'П→X',\n    [Cmd.XtR]            : 'X→П',\n    [Cmd.Sub]            : 'ПП',\n    [Cmd.Num1]           : '1',\n    [Cmd.Num2]           : '2',\n    [Cmd.Num3]           : '3',\n    [Cmd.Num4]           : '4',\n    [Cmd.Num5]           : '5',\n    [Cmd.Num6]           : '6',\n    [Cmd.Num7]           : '7',\n    [Cmd.Num8]           : '8',\n    [Cmd.Num9]           : '9',\n    [Cmd.Num0]           : '0',\n    [Cmd.Dot]            : '·',\n    [Cmd.Sign]           : '/-/',\n    [Cmd.Minus]          : '-',\n    [Cmd.Plus]           : '+',\n    [Cmd.Mul]            : '×',\n    [Cmd.Div]            : '÷',\n    [Cmd.Enter]          : 'В↑',\n    [Cmd.Swap]           : '↔',\n    [Cmd.RestoreX]       : 'Bx',\n    [Cmd.Ring]           : '⟳',\n    [Cmd.EntExp]         : 'ВП',\n    [Cmd.ClX]            : 'СX',\n    [Cmd.sin]            : 'sin',\n    [Cmd.cos]            : 'cos',\n    [Cmd.tg]             : 'tg',\n    [Cmd.asin]           : 'sin⁻¹',\n    [Cmd.acos]           : 'cos⁻¹',\n    [Cmd.atg]            : 'tg⁻¹',\n    [Cmd.sqr]            : 'x²',\n    [Cmd.sqrt]           : '√',\n    [Cmd.pi]             : 'π',\n    [Cmd.antifunc]       : '1/x',\n    [Cmd.exp]            : 'eⁿ',\n    [Cmd.lg]             : 'lg',\n    [Cmd.ln]             : 'ln',\n    [Cmd.rXY]            : 'xⁿ',\n    [Cmd.r10x]           : '10ⁿ',\n    [Cmd.CF]             : 'CF',\n    [Cmd.max]            : 'max',\n    [Cmd.int]            : '[x]',\n    [Cmd.frac]           : '{x}',\n    [Cmd.abs]            : '|x|',\n    [Cmd.sign]           : 'ЗН',\n    [Cmd.or]             : '∨',\n    [Cmd.xor]            : '⊕',\n    [Cmd.and]            : '∧',\n    [Cmd.not]            : 'ИНВ',\n    [Cmd.NOP]            : 'НОП',\n    [Cmd.random]         : 'СЧ',\n    [Cmd.fau_m]          : '°′',\n    [Cmd.tau_m]          : '°′',\n    [Cmd.fau_ms]         : '°′″',\n    [Cmd.tau_ms]         : '°′″',\n};","import { Cmd } from './core/commands';\nimport { Program } from './core/program';\nimport { keyLabels } from './l18n';\n\nconst addressCommands: string[] = [\n    Cmd.NEQ, Cmd.EQ, Cmd.GT, Cmd.LT,\n    Cmd.L0, Cmd.L1, Cmd.L2, Cmd.L3,\n    Cmd.goto,\n];\n\nexport const codeLabels: {[key: string]: string} = {\n    ...keyLabels,\n    [Cmd.GT] : 'x>=0',//'x⩾0',\n    [Cmd.NEQ]: 'x!=0',//'x≠0',\n    [Cmd.RtX]: 'ПX',\n    [Cmd.XtR]: 'XП',\n};\n\nexport function programToView(program: Program): string[][] {\n    let isNextAddress = false;\n\n    return program.bytes.reduce(\n        (codes: string[][], command: Cmd): string[][] => {\n            const cmd: string = (command as string).toLowerCase();\n            let line          = codes[codes.length - 1];\n            if (line.length >= 10)\n                line = codes[codes.length] = [];\n\n            if (isNextAddress) {\n                line.push(cmd.toLowerCase());\n                isNextAddress = false;\n            } else {\n                let code = codeLabels[cmd];\n                if (!code)\n                    if (codeLabels[cmd.substr(0, 1) + 'x'])\n                        code = codeLabels[cmd.substr(0, 1) + 'x'] + cmd.substr(1).toLowerCase();\n                    else\n                        code = '???';\n\n                line.push(code);\n                isNextAddress = addressCommands.indexOf(cmd) !== -1;\n            }\n\n            return codes;\n        }, [[]],\n    );\n}","import * as React from 'react';\n\nimport './Program.scss';\nimport { Cmd } from '../elektronika/core/commands';\nimport { Program as CoreProgram } from '../elektronika/core/program';\nimport { programToView } from '../elektronika/viewTools';\n\n\n// tslint:disable\nconst prg = programToView({\n    bytes: [\n        'КППЕ', '48', 'КППЕ', '6В', '67', Cmd.Num2, Cmd.Mul, 'ПП', 'A0', 'В↑',\n        'КПх8', Cmd.Plus, 'КхП8', Cmd.Swap, Cmd.Num7, Cmd.r10x, Cmd.Plus, '68', '6С', Cmd.Div,\n        Cmd.Plus, '6d', 'K⊕', 'K{x}', 'В↑', 'ВП', Cmd.Num7, 'С/П', '48', '69',\n        '01', Cmd.Plus, '49', 'КПх8', '67', Cmd.Minus, 'КхП8', Cmd.Num1, Cmd.Minus, 'Fx<o',\n        '44', Cmd.Num0, Cmd.goto, '47', 'КПх8', '6С', Cmd.Plus, 'КхП8', 'K{x}', '6С',\n        Cmd.Num5, Cmd.Mul, Cmd.Minus, 'Fx≥o', '68', 'КПх5', '65', Cmd.Num3, Cmd.Minus, 'Fx≥o',\n        '65', '6А', 'ПхД', 'KΛ', 'C/П', 'КПх8', 'K[х]', 'КхП8', 'FL0', '00',\n        Cmd.ClX, '46', Cmd.Num5, '40', '67', 'КПх0', Cmd.Minus, 'Fx≥o', '92', 'FBx',\n        'Fx=o', '83', 'КПх6', '60', 'FL0', '73', '66', Cmd.Num3, Cmd.Minus, 'Kx≥oC',\n        '6А', 'С/П', Cmd.Num1, '40', Cmd.Num4, '6В', Cmd.pi, Cmd.Mul, 'K{x}', '4В',\n        Cmd.Mul, Cmd.Num1, Cmd.Plus, 'K[х]', 'В/О',\n        //'0e', '51', '5e', '41', '06', '0e', '02', '1c', '03', '5b',\n        //'01', '03', '59', '50', '5b', '4e', '51', '1c', '20', '51',\n        //'02', '44', '4c', '42', '06', '4e', '20', '1c', '43', '5b',\n        //'03', '20', '57', '03', '51', '0e', '20', '1c', '20', '06',\n        //'04', '51', '03', '51', '40', '1c', '0e', '5b', '05', '20',\n        //'1c', '0e', '5b', '0e', '43', '1c', '20', '51', '06', '20',\n        //'1c', '04', '51', '4e', '51', '1c', '04', '09', '03', '20',\n        //'57', '51', '0e', '20', '1c', '20', '06', '04', '51', '03',\n        //'51', '5b', '0e', '20', '1c', '0e', '5b', '05', '20', '1c',\n        //'0e', '5b', '0e', '03', '1c', '20', '51', '06', '20', '1c',\n        //'04', '51', '0e', '51', '1c',\n    ],\n} as CoreProgram);\n\nexport const Program = () => {\n    return <div className=\"page-program\">\n        <div className=\"center\">ПРОГРАММА</div>\n        <table>\n            <thead>\n            <tr>\n                <th/>\n                <th>0</th>\n                <th>1</th>\n                <th>2</th>\n                <th>3</th>\n                <th>4</th>\n                <th>5</th>\n                <th>6</th>\n                <th>7</th>\n                <th>8</th>\n                <th>9</th>\n            </tr>\n            </thead>\n            <tbody>\n            {prg.map((line, index) =>\n                <tr key={index}>\n                    <th>{index < 10 ? index : 'A'}</th>\n                    {line.map((cmd, cmdi) =>\n                        <td key={cmdi}>{cmd}</td>,\n                    )}</tr>,\n            )}</tbody>\n        </table>\n    </div>;\n};\n","import * as React from 'react';\n\nexport const AboutPage = () => {\n    return <div>\n        <p>\n            МК-52 — первый советский микрокалькулятор с энергонезависимой электрически стираемой памятью,\n            обеспечивающей сохранность программ при выключении\n            питания и выполняющий функции буфера при обмене данными с внешними устройствами. Блок этой памяти\n            способен\n            хранить до 512 программных 8-битных слов (или содержимое 72 регистров данных) и обмениваться ими с ОЗУ.\n        </p>\n        <p>\n            Официально полностью совместим с моделями второго поколения (Б3-34 и МК-54) по системе команд и кодов, в\n            действительности отличается реализацией нескольких недокументированных, но широко использовавшихся\n            команд. Дополнительно система команд включает: вычисление целой и дробной части, модуля, максимального\n            из двух чисел, побитовые логические операции, перевод градусов, минут и секунд в доли градуса, генерацию\n            псевдослучайного числа. При использовании этих команд программа, которая займет в МК-52 все 105 шагов\n            программной памяти и 15 регистров, по своим возможностям будет эквивалентна примерно 140—150 шагам и 18\n            регистрам программы, написанной в системе команд Б3-34.\n        </p>\n    </div>;\n};\n","import * as React from 'react';\nimport { Link } from 'react-router-dom';\n\nexport const Programs = () => {\n    return <div>\n        МОИ ПРОГРАММЫ<br/>\n        <Link to={`/program/1`}>Игра 1</Link><br/>\n        <Link to={`/program/2`}>Игра 2</Link><br/>\n        <Link to={`/program/3`}>Игра 3</Link><br/>\n        <Link to={`/program/4`}>Игра 4</Link><br/>\n        <Link to={`/program/5`}>Игра 5</Link><br/>\n        <Link to={`/program/6`}>Игра 6</Link><br/>\n        <Link to={`/program/7`}>Игра 7</Link>\n    </div>;\n};\n","import BigNumber from 'bignumber.js';\n\nexport interface IRegister {\n    mantissa: number;\n    exp: number;\n    negative: boolean;\n}\n\nexport class Register implements IRegister {\n    public static fromBigNumber(bigNumber: BigNumber): Register {\n        const exponential = bigNumber.toExponential(8);\n        return Register.fromExponential(exponential);\n    }\n\n    public static fromExponential(exponential: string): Register {\n        console.log(exponential);\n        const match = exponential.match(/^(-?[1-9]|-?[1-9]\\.\\d+|0|0.0+)e([+-]\\d+)+$/);\n        console.log(match);\n        if (!match)\n            throw new Error(`Invalid exponential format in \"${exponential}\"`);\n        let [, rawMantissa, rawExp] = match;\n        const dotIndexOf = rawMantissa.indexOf('.');\n        if (dotIndexOf !== -1)\n            while (rawMantissa.substr(-1) === '0')\n                rawMantissa = rawMantissa.substr(0, rawMantissa.length - 1);\n\n        const mantissa = +rawMantissa.replace('.', '');\n        const additionalExp = dotIndexOf === -1\n            ? 0\n            : rawMantissa.length - dotIndexOf - 1;\n        const exp = +rawExp - additionalExp;\n        console.log(mantissa, exp);\n        const register = Register.intNormalize(mantissa, exp);\n        console.log(register);\n        return new Register({\n            ...register,\n            exp: exp - register.exp,\n        });\n    }\n\n    private static intNormalize(value: number, exp: number = 0): IRegister {\n        if (!value)\n            return {mantissa: 0, exp: 0, negative: false};\n\n        console.log('-1', value, exp);\n\n        let negative = false;\n\n        if (value < 0) {\n            negative = true;\n            value = -value;\n        }\n\n        // Приводим к целочисленной мантисе из 8 цифр\n\n        if (value < 10 ** 8)\n            while (value * 10 ** (-exp) < 10 ** 7)\n                exp--;\n        else\n            while (value * 10 ** (-exp) >= 10 ** 8)\n                exp++;\n\n        console.log('0', value, exp);\n\n        let mantissa = Math.round(value * 10 ** (-exp));\n\n        // Избавляемся от незначащих нулей\n\n        console.log('1', mantissa, exp);\n\n        if (mantissa % 10000 === 0) {\n            exp += 4;\n            mantissa /= 10000;\n        }\n\n        console.log('2', mantissa, exp);\n        if (mantissa % 100 === 0) {\n            exp += 2;\n            mantissa /= 100;\n        }\n\n        console.log('3', mantissa, exp);\n        if (mantissa % 10 === 0) {\n            exp += 1;\n            mantissa /= 10;\n        }\n\n        return {\n            mantissa,\n            exp,\n            negative,\n        };\n    }\n\n    private static toString(reg: IRegister): string {\n        const sum = reg.exp + reg.mantissa.toString().length;\n\n        if (sum > 8 || sum < -6) {\n            let mant = reg.mantissa.toString();\n            let exp = reg.exp + mant.length - 1;\n            return buildString(\n                reg.negative,\n                mant.substr(0, 1) + '.' + mant.substr(1),\n                exp,\n            );\n        }\n\n        if (sum >= 0) {\n            const mant = (reg.mantissa).toString();\n\n            if (reg.exp >= 0) {\n                return buildString(\n                    reg.negative,\n                    (reg.mantissa * 10 ** reg.exp).toString().substr(0, 9),\n                    0,\n                );\n            }\n\n            return buildString(\n                reg.negative,\n                mant.substr(0, mant.length + reg.exp) + '.' + mant.substr(reg.exp),\n                0,\n            );\n        } else {\n            const mant = '0.' + '0'.repeat(-1 - reg.exp) + reg.mantissa.toString();\n            console.log(sum, reg.mantissa, reg.exp, mant);\n            return buildString(\n                reg.negative,\n                mant,\n                0,\n            );\n        }\n    }\n\n    public mantissa: number = 0;\n    public exp: number = 0;\n    public negative: boolean = false;\n\n    constructor(value?: number | IRegister | IInputRegister, exp?: number) {\n        if (value)\n            if (typeof value === 'number')\n                Object.assign(this, Register.intNormalize(value));\n            else if ('text' in value)\n                Object.assign(this, {\n                    mantissa: parseInt((value as IInputRegister).text, 10),\n                    exp: 0,//value.exp,\n                    negative: false,//value.negative,\n                });\n            else\n                Object.assign(this, {\n                    mantissa: value.mantissa,\n                    exp: value.exp,\n                    negative: value.negative,\n                });\n\n        //Object.freeze(this);\n    }\n\n    public toString(): string {\n        return Register.toString(this);\n    }\n\n    public toNumber(): number {\n        return this.mantissa * 10 ** this.exp * (this.negative ? -1 : 1);\n    }\n\n    public input(num: number): Register {\n        return (new InputRegister()).input(num);\n    }\n\n    public changeSign(): Register {\n        return new Register({\n            mantissa: this.mantissa,\n            exp: this.exp,\n            negative: !this.negative,\n        });\n    }\n}\n\ninterface IInputRegister {\n    text: string;\n    dot: number;\n}\n\nexport class InputRegister extends Register implements IInputRegister {\n    public text: string = '';\n    public dot: number = 0;\n\n    constructor(value?: IInputRegister) {\n        super();\n        Object.assign(this, value);\n    }\n\n    public input(num: number): InputRegister {\n        let text = this.text;\n        let dot = this.dot;\n        if (num >= 0) {\n            if (text.length < 8)\n                text += num;\n\n            return new InputRegister({\n                text,\n                dot,\n            });\n        } else {\n            if (dot)\n                return this;\n\n            return new InputRegister({\n                text: this.text,\n                dot: text.length,\n            });\n        }\n    }\n\n    public toString(): string {\n        if (this.dot) {\n            let text = this.text;\n            text = text.substr(0, this.dot) + '.' + text.substr(this.dot);\n            return buildString(this.negative, text, this.exp);\n        } else {\n            let text = this.text;\n            if (!text)\n                text = '0';\n            return buildString(this.negative, text + '.', this.exp);\n        }\n    }\n}\n\nfunction buildString(negative: boolean, mant: string, exponent: number): string {\n    if (mant.length > 9)\n        throw new Error(`Max length of \"mant\" must <= 9 symbols, but \"${mant}:`);\n    if (mant.indexOf('.') === -1) mant += '.';\n    if (mant.length < 9) mant += ' '.repeat(9 - mant.length);\n    let exp = 'err';\n\n    if (exponent === 0)\n        exp = '   ';\n    else if (exponent <= -100)\n        exp = '-er';\n    else if (exponent <= -10)\n        exp = exponent.toString();\n    else if (exponent < 0)\n        exp = '-0' + (-exponent);\n    else if (exponent < 10)\n        exp = ' 0' + exponent;\n    else if (exponent < 100)\n        exp = ' ' + exponent;\n    else\n        exp = '+er';\n\n    return (negative ? '-' : ' ') + mant + exp;\n}\n","import { Register } from './register';\r\nimport { Map } from 'immutable';\r\n\r\nexport enum RegisterName {\r\n    R0 = '0',\r\n    R1 = '1',\r\n    R2 = '2',\r\n    R3 = '3',\r\n    R4 = '4',\r\n    R5 = '5',\r\n    R6 = '6',\r\n    R7 = '7',\r\n    R8 = '8',\r\n    R9 = '9',\r\n    RA = 'a',\r\n    RB = 'b',\r\n    RC = 'c',\r\n    RD = 'd',\r\n    RE = 'e',\r\n}\r\n\r\nconst registerNames = Object.values(RegisterName);\r\n\r\nexport class Registers {\r\n    public readonly values: Map<RegisterName, Register>;\r\n\r\n    public static empty() {\r\n        const values = Map<RegisterName, Register>(\r\n            registerNames.map(\r\n                (key: RegisterName) => [key, new Register()],\r\n            ),\r\n        );\r\n\r\n        return Registers.makeByMap(values);\r\n    }\r\n\r\n    constructor(obj: Registers) {\r\n        this.values = obj.values;\r\n    }\r\n\r\n    public get(reg: RegisterName): Register {\r\n        if (!isRegisterName(reg))\r\n            throw new Error(`\"${reg}\" not a RegisterName`);\r\n        return this.values.get(reg);\r\n    }\r\n\r\n    public set(reg: RegisterName, value: Register): Registers {\r\n        if (!isRegisterName(reg))\r\n            throw new Error(`\"${reg}\" not a RegisterName`);\r\n\r\n        return Registers.makeByMap(this.values.set(reg, value));\r\n    }\r\n\r\n    private static makeByMap(map: Map<RegisterName, Register>): Registers {\r\n        return new Registers({\r\n            values: map,\r\n        } as any);\r\n    }\r\n}\r\n\r\nexport function isRegisterName(reg: RegisterName): boolean {\r\n    return registerNames.indexOf(reg) !== -1;\r\n}\r\n","import { CalculatorStatus } from './calculator';\r\nimport { IStack, Stack } from './core/stack';\r\nimport { Registers } from './core/registers';\r\nimport { Program } from './core/program';\r\nimport { Cmd } from './core/commands';\r\n\r\nexport interface IVariousCalculator {\r\n    status?: CalculatorStatus;\r\n    stack?: IStack;\r\n    registers?: Registers;\r\n    program?: Program;\r\n    keys?: string[];\r\n    command?: ICoreCommand;\r\n\r\n    stat?: {\r\n        executed?: number;\r\n        lastRunExecuted?: number;\r\n    }\r\n}\r\n\r\nexport interface ICalculator extends IVariousCalculator {\r\n    status: CalculatorStatus;\r\n    stack: Stack;\r\n    registers: Registers;\r\n    program: Program;\r\n    keys: string[];\r\n    command: ICoreCommand;\r\n\r\n    stat: {\r\n        executed: number;\r\n        lastRunExecuted: number;\r\n    }\r\n}\r\n\r\nexport interface ICalculatorCtrl {\r\n    _exec(execute: string, cmd: Cmd): ICalcCtrl;\r\n    _commandComplete(state: ICalculator): ICalcCtrl;\r\n    _commandRunOther(state: ICalculator, cmd: Cmd): ICalcCtrl;\r\n}\r\n\r\nexport type ICalcCtrl = ICalculator & ICalculatorCtrl;\r\n\r\nexport type ICoreOperation = (calc: ICalcCtrl, option?: any) => IVariousCalculator;\r\n\r\nexport enum CoreCommandType {\r\n    Single,\r\n    WithAddress,\r\n    WithRegister,\r\n}\r\n\r\nexport interface ICoreCommand {\r\n    type: CoreCommandType;\r\n    operation: ICoreOperation;\r\n}\r\n\r\n// система команд\r\nexport interface ICore {\r\n    [key: string]: ICoreCommand;\r\n}\r\n","import { MKButton } from './common';\r\nimport { Stack } from './core/stack';\r\nimport { Registers } from './core/registers';\r\nimport { Program } from './core/program';\r\nimport {\r\n    CoreCommandType,\r\n    ICalcCtrl,\r\n    ICalculator,\r\n    ICore,\r\n    ICoreCommand,\r\n    IVariousCalculator,\r\n} from './calculator.interface';\r\nimport { Cmd, CmdCodes } from './core/commands';\r\n\r\nexport enum CalculatorStatus {\r\n    Standart,\r\n    Input,\r\n    InputEx,\r\n    Program,\r\n    Run,\r\n}\r\n\r\nexport class Calculator implements ICalculator {\r\n    public status: CalculatorStatus = null;\r\n    public stack: Stack = null;\r\n    public registers: Registers = null;\r\n    public program: Program = null;\r\n    public keys: string[] = [];\r\n    public command: ICoreCommand = null;\r\n\r\n    public stat = {\r\n        executed: 0,\r\n        lastRunExecuted: 0,\r\n    };\r\n\r\n    constructor(private core: ICore, init: boolean = true) {\r\n        if (init) {\r\n            this.status = CalculatorStatus.Standart;\r\n            this.stack = new Stack();\r\n            this.program = new Program();\r\n            this.registers = Registers.empty();\r\n            this.keys = [];\r\n            this.command = null;\r\n        }\r\n    }\r\n\r\n    public reset(): Calculator {\r\n        return new Calculator(this.core, true);\r\n    }\r\n\r\n    public clone(state?: IVariousCalculator) {\r\n        const calc: any = {};\r\n        let changes = 0;\r\n        if (state)\r\n            ['status', 'stack', 'program', 'registers', 'keys', 'command', 'stat'].forEach(\r\n                key => {\r\n                    if (key in state && (state as any)[key] !== (this as any)[key]) {\r\n                        calc[key] = (state as any)[key];\r\n                        changes++;\r\n                    }\r\n                },\r\n            );\r\n        else\r\n            changes = 1;\r\n\r\n        if (changes)\r\n            return Object.assign(new Calculator(this.core, false), this, calc);\r\n        else\r\n            return this;\r\n    }\r\n\r\n    public display(): string {\r\n        return this.stack.x.toString();\r\n    }\r\n\r\n    public toObject(state: object = {}): ICalculator {\r\n        return Object.assign({\r\n            status: this.status,\r\n            stack: this.stack,\r\n            registers: this.registers,\r\n            program: this.program,\r\n            keys: this.keys,\r\n            stat: this.stat,\r\n            command: this.command,\r\n        }, state);\r\n    }\r\n\r\n    // tslint:disable\r\n    public keyPress(key: MKButton): Calculator {\r\n        let result: Calculator = null;\r\n        if (this.command && (result = this._keyPress(key.cmd)))\r\n            return result;\r\n\r\n        if (this.keys.length === 0) {\r\n            if (key.cmd === Cmd.F)\r\n                return this.clone({\r\n                    keys: ['F'],\r\n                });\r\n            if (key.cmd === Cmd.K)\r\n                return this.clone({\r\n                    keys: ['K'],\r\n                });\r\n        }\r\n\r\n        if (this.keys.length === 1) {\r\n            if (this.keys[0] === 'F' && (result = this._keyPress(key.cmdf)))\r\n                return result.clone({keys: []});\r\n            if (this.keys[0] === 'K' && (result = this._keyPress(key.cmdk)))\r\n                return result.clone({keys: []});\r\n        }\r\n\r\n        if (result = this._keyPress(key.cmd)) return result;\r\n\r\n        return this;\r\n    }\r\n\r\n    private _keyPress(cmd: Cmd): Calculator | null {\r\n        if (!this.command) {\r\n            const command = this.core[cmd];\r\n\r\n            if (!command)\r\n                return null;\r\n\r\n            switch (command.type) {\r\n                case CoreCommandType.Single:\r\n                    return this._exec(cmd, cmd);\r\n                default:\r\n                    return this.clone({command});\r\n            }\r\n        }\r\n        if (this.command) {\r\n            switch (this.command.type) {\r\n                case CoreCommandType.WithRegister:\r\n                    if (isCmdNumber(cmd))\r\n                        return this.clone({\r\n                            ...this.command.operation(this, cmdToNumber(cmd)),\r\n                            command: null,\r\n                            keys: [],\r\n                            stat: {\r\n                                ...this.stat,\r\n                                executed: this.stat.executed + 1,\r\n                            },\r\n                        });\r\n                case CoreCommandType.WithAddress:\r\n                    if (isCmdNumber(cmd))\r\n                        if (this.keys.length === 1)\r\n                            return this.clone({\r\n                                ...this.command.operation(this, cmdToNumber(this.keys[0] as Cmd) + cmdToNumber(cmd)),\r\n                                command: null,\r\n                                keys: [],\r\n                                stat: {\r\n                                    ...this.stat,\r\n                                    executed: this.stat.executed + 1,\r\n                                },\r\n                            });\r\n                        else\r\n                            return this.clone({\r\n                                keys: [cmd],\r\n                            });\r\n                case CoreCommandType.Single:\r\n                default:\r\n                    throw new Error('Invalid command');\r\n            }\r\n            return null;\r\n        }\r\n        return null;\r\n        // if (execute in this.core)\r\n        //     return this.clone(this.core[execute].operation(this, cmd));\r\n        // else\r\n        //     throw new Error(`Unknown cmd \"${CmdCodes[execute]}\" (code ${execute})`);\r\n    }\r\n\r\n    /// TODO need refactoring\r\n    public _exec(execute: string, cmd: Cmd): Calculator {\r\n        if (execute in this.core)\r\n            return this.clone(this.core[execute].operation(this, cmd));\r\n        else\r\n            throw new Error(`Unknown cmd \"${CmdCodes[execute]}\" (code ${execute})`);\r\n    }\r\n\r\n    /**\r\n     * FIXME\r\n     * @param state\r\n     * @private\r\n     */\r\n    public _commandComplete(state: ICalcCtrl): Calculator {\r\n        state.stat = {\r\n            ...this.stat,\r\n            executed: this.stat.executed + 1,\r\n        };\r\n        state.keys = [];\r\n        return this.clone(state);\r\n    }\r\n\r\n    /**\r\n     * FIXME\r\n     * @param state\r\n     * @param cmd\r\n     * @private\r\n     */\r\n    public _commandRunOther(state: ICalcCtrl, cmd: Cmd): Calculator {\r\n        const calc = this.clone(state);\r\n        return calc._exec(cmd, cmd);\r\n    }\r\n}\r\n\r\n\r\nfunction isCmdNumber(cmd: Cmd): boolean {\r\n    return !!cmd.match(/^0\\d$/);\r\n}\r\n\r\nfunction cmdToNumber(cmd: Cmd): string {\r\n    return cmd.substr(1, 1);\r\n}\r\n","import { InputRegister, Register } from './register';\r\n\r\nexport interface IStack {\r\n    x1: Register;\r\n    x: Register;\r\n    y: Register;\r\n    z: Register;\r\n    t: Register;\r\n    canInput: boolean;\r\n}\r\n\r\nexport class Stack implements IStack {\r\n    public x1: Register = new Register(0.000000056723);\r\n    public x: Register  = new Register(5735.23);\r\n    public y: Register  = new Register(34536343634534535);\r\n    public z: Register  = new Register(67835.3437345634534);\r\n    public t: Register  = new Register(100000000000000000000000000);\r\n\r\n    public canInput: boolean = false;\r\n\r\n    constructor(stack?: IStack) {\r\n        if (stack)\r\n            Object.assign(this, stack);\r\n    }\r\n\r\n    public input(num: number): Stack {\r\n        let stack: Stack = this;\r\n        if (!this.canInput)\r\n            stack = stack.enter();\r\n        return new Stack({\r\n            t       : stack.t,\r\n            z       : stack.z,\r\n            y       : stack.y,\r\n            x       : stack.x.input(num),\r\n            x1      : stack.x1,\r\n            canInput: true,\r\n        });\r\n    }\r\n\r\n    public completeInput(): Stack {\r\n        if (this.x instanceof InputRegister || this.canInput)\r\n            return new Stack({\r\n                t       : this.t,\r\n                z       : this.z,\r\n                y       : this.y,\r\n                x       : new Register(this.x),\r\n                x1      : this.x1,\r\n                canInput: false,\r\n            });\r\n        return this;\r\n    }\r\n\r\n    public enter(insert?: Register): Stack {\r\n        const stack = this.completeInput();\r\n        if (!insert) insert = stack.x;\r\n        return new Stack({\r\n            t       : stack.z,\r\n            z       : stack.y,\r\n            y       : stack.x,\r\n            x       : insert,\r\n            x1      : stack.x,\r\n            canInput: true,\r\n        });\r\n    }\r\n\r\n    public swap(): Stack {\r\n        const stack = this.completeInput();\r\n        return new Stack({\r\n            t       : stack.t,\r\n            z       : stack.z,\r\n            y       : stack.x,\r\n            x       : stack.y,\r\n            x1      : stack.x,\r\n            canInput: false,\r\n        });\r\n    }\r\n\r\n    public op1(reg: Register): Stack {\r\n        return new Stack({\r\n            t       : this.t,\r\n            z       : this.z,\r\n            y       : this.y,\r\n            x       : reg,\r\n            x1      : this.x,\r\n            canInput: false,\r\n        });\r\n    }\r\n\r\n    public op2(reg: Register): Stack {\r\n        return new Stack({\r\n            t       : this.t,\r\n            z       : this.t,\r\n            y       : this.z,\r\n            x       : reg,\r\n            x1      : this.x,\r\n            canInput: false,\r\n        });\r\n    }\r\n}","import { Cmd } from './commands';\r\n\r\n//import { hex2dec } from './_funcs';\r\n\r\nexport class Program {\r\n    public bytes: Cmd[]    = new Array(105).fill('00');\r\n    public address: number = 0;\r\n\r\n    public pushCmd(cmd: Cmd | string): Program {\r\n        const bytes         = [...this.bytes];\r\n        bytes[this.address] = cmd as Cmd;\r\n\r\n        return Object.assign(new Program(), {\r\n            bytes,\r\n            address: this.address + 1,\r\n        });\r\n    }\r\n\r\n    public goto(address: number): Program {\r\n        //const index = hex2dec(address.substr(0, 1)) * 10 + hex2dec(address.substr(1, 1));\r\n\r\n        return Object.assign(new Program(), {\r\n            bytes: this.bytes,\r\n            address,//: index,\r\n        });\r\n\r\n    }\r\n}","import { Cmd } from './core/commands';\nimport { keyLabels } from './l18n';\n\nexport class MKButton {\n    public key: string;\n    public kbCode: string;\n    public text: string;\n    public color: 'f' | 'k' | 'b' | 'w' | 'r' = 'b';\n    public cmd: Cmd;\n    public cmdf?: Cmd;\n    public textf?: string;\n    public cmdk?: Cmd;\n    public textk?: string;\n    public register?: string;\n    public registerText?: string;\n}\n\nlet labels = keyLabels;\n\nexport function makeButton(\n    color: 'f' | 'k' | 'b' | 'w' | 'r' = 'b',\n    kb: string,\n    main: Cmd,\n    f?: Cmd,\n    k?: Cmd,\n    reg?: string,\n) {\n    const button        = new MKButton();\n    button.kbCode       = kb;\n    button.color        = color;\n    button.cmd          = main;\n    button.text         = labels[main];\n    button.cmdf         = f;\n    button.textf        = labels[f];\n    button.cmdk         = k;\n    button.textk        = labels[k];\n    button.register     = reg;\n    button.registerText = (reg && Number.isNaN(+reg)) ? reg : null;\n    return button;\n}","import { Register } from './register';\nimport BigNumber from 'bignumber.js';\n\nexport function equal(x: Register, y: Register): boolean {\n    if (x.negative !== y.negative)\n        return false;\n\n    if (x.exp !== y.exp)\n        return false;\n\n    return x.mantissa === y.mantissa;\n}\n\nexport function moreThen(x: Register, y: Register): boolean {\n    if (equal(x, y))\n        return false;\n\n    if (x.negative !== y.negative)\n        return y.negative;\n\n    console.log(x, y);\n\n    if (x.exp !== y.exp)\n        return x.exp > y.exp;\n\n    return false;\n}\n\nexport function add(x: Register, y: Register): Register {\n    const xx = new BigNumber(x.toNumber());\n    const yy = new BigNumber(y.toNumber());\n    const r = xx.plus(yy);\n    return Register.fromBigNumber(r);\n}\n\nexport function multiply(x: Register, y: Register): Register {\n    let xm = x.mantissa;\n    let ym = y.mantissa;\n    let exp = 0;\n    let mant = 0;\n    for (; ;) {\n        mant = xm * ym;\n        if (mant >= 10 ** 8) {\n            exp++;\n            if (xm > ym)\n                xm /= 10;\n            else\n                ym /= 10;\n        } else\n            break;\n    }\n    const res = {\n        mantissa: Math.round(mant),\n        exp: exp + x.exp + y.exp,\n        negative: x.negative !== y.negative,\n    };\n    return new Register(res);\n}\n","import { CoreCommandType, ICalcCtrl, ICore } from '../calculator.interface';\nimport { Cmd } from './commands';\nimport { InputRegister, Register } from './register';\nimport { Stack } from './stack';\nimport { RegisterName } from './registers';\nimport { multiply, add } from './core-alu';\n\nexport const BaseMKCore: ICore = {\n    [Cmd.Enter]: {\n        type: CoreCommandType.Single,\n        operation: (calc: ICalcCtrl): ICalcCtrl => ({...calc, stack: calc.stack.enter()}),\n    },\n\n    [Cmd.Num0]: {\n        type: CoreCommandType.Single,\n        operation: (calc: ICalcCtrl) => ({...calc, stack: calc.stack.input(0)}),\n    },\n    [Cmd.Num1]: {\n        type: CoreCommandType.Single,\n        operation: (calc: ICalcCtrl) => ({...calc, stack: calc.stack.input(1)}),\n    },\n    [Cmd.Num2]: {\n        type: CoreCommandType.Single,\n        operation: (calc: ICalcCtrl) => ({...calc, stack: calc.stack.input(2)}),\n    },\n    [Cmd.Num3]: {\n        type: CoreCommandType.Single,\n        operation: (calc: ICalcCtrl) => ({...calc, stack: calc.stack.input(3)}),\n    },\n    [Cmd.Num4]: {\n        type: CoreCommandType.Single,\n        operation: (calc: ICalcCtrl) => ({...calc, stack: calc.stack.input(4)}),\n    },\n    [Cmd.Num5]: {\n        type: CoreCommandType.Single,\n        operation: (calc: ICalcCtrl) => ({...calc, stack: calc.stack.input(5)}),\n    },\n    [Cmd.Num6]: {\n        type: CoreCommandType.Single,\n        operation: (calc: ICalcCtrl) => ({...calc, stack: calc.stack.input(6)}),\n    },\n    [Cmd.Num7]: {\n        type: CoreCommandType.Single,\n        operation: (calc: ICalcCtrl) => ({...calc, stack: calc.stack.input(7)}),\n    },\n    [Cmd.Num8]: {\n        type: CoreCommandType.Single,\n        operation: (calc: ICalcCtrl) => ({...calc, stack: calc.stack.input(8)}),\n    },\n    [Cmd.Num9]: {\n        type: CoreCommandType.Single,\n        operation: (calc: ICalcCtrl) => ({...calc, stack: calc.stack.input(9)}),\n    },\n    [Cmd.Dot]: {\n        type: CoreCommandType.Single,\n        operation: (calc: ICalcCtrl) => ({...calc, stack: calc.stack.input(-1)}),\n    },\n    [Cmd.Sign]: {\n        type: CoreCommandType.Single,\n        operation: (calc) => {\n            let x = calc.stack.x;\n            if (x instanceof InputRegister)\n                x = new Register(x);\n            return {\n                ...calc,\n                stack: new Stack({\n                    ...calc.stack,\n                    x: x.changeSign(),\n                    canInput: false,\n                }),\n            };\n        },\n    },\n\n    [Cmd.Plus]: {\n        type: CoreCommandType.Single,\n        operation: (calc: ICalcCtrl) => ({\n            ...calc,\n            stack: calc.stack.op2(add(calc.stack.x, calc.stack.y)),\n        }),\n    },\n    [Cmd.Minus]: {\n        type: CoreCommandType.Single,\n        operation: (calc: ICalcCtrl) => {\n            return calc;\n        },\n    },\n    [Cmd.Mul]: {\n        type: CoreCommandType.Single,\n        operation: (calc: ICalcCtrl) => ({\n            ...calc,\n            stack: calc.stack.op2(multiply(calc.stack.x, calc.stack.y)),\n        }),\n    },\n    [Cmd.Div]: {\n        type: CoreCommandType.Single,\n        operation: (calc: ICalcCtrl) => {\n            let mant = new Register(calc.stack.y.mantissa / calc.stack.x.mantissa);\n            console.log(calc.stack.y.mantissa / calc.stack.x.mantissa);\n            console.log(calc.stack.y.mantissa, calc.stack.x.mantissa);\n            console.log(mant);\n            return calc;\n        },\n    },\n    [Cmd.sqr]: {\n        type: CoreCommandType.Single,\n        operation: (calc: ICalcCtrl) => ({\n            ...calc,\n            stack: calc.stack.op1(multiply(calc.stack.x, calc.stack.x)),\n        }),\n    },\n    [Cmd.pi]: {\n        type: CoreCommandType.Single,\n        operation: (calc: ICalcCtrl) => ({\n            ...calc,\n            stack: calc.stack.enter(new Register(3.1415926)),\n        }),\n    },\n    [Cmd.Swap]: {\n        type: CoreCommandType.Single,\n        operation: (calc: ICalcCtrl) => ({\n            ...calc,\n            stack: calc.stack.swap(),\n        }),\n    },\n\n    [Cmd.goto]: ({\n        type: CoreCommandType.WithAddress,\n        operation: (calc: ICalcCtrl) => ({\n            ...calc,\n            stack: calc.stack.enter(new Register(3.1415926)),\n        }),\n    }),\n    [Cmd.XtR]: ({\n        type: CoreCommandType.WithRegister,\n        operation: (calculator: ICalcCtrl, register: RegisterName): ICalcCtrl => {\n            return {\n                ...calculator,\n                registers: calculator.registers.set(register, calculator.stack.x),\n            };\n        },\n    }),\n    [Cmd.RtX]: ({\n        type: CoreCommandType.WithRegister,\n        operation: (calculator: ICalcCtrl, register: RegisterName): ICalcCtrl => {\n            return {\n                ...calculator,\n                stack: calculator.stack.enter(calculator.registers.get(register)),\n            };\n        },\n    }),\n};\n\nObject.freeze(BaseMKCore);\n","import { ICore } from '../calculator.interface';\nimport { makeButton } from '../common';\nimport { Cmd } from '../core/commands';\nimport { BaseMKCore } from '../core/core';\n\nexport const MK52Core: ICore = BaseMKCore;\n\nexport const MK52Keyboard = [\n    [\n        makeButton('f', 'Shift', Cmd.F),\n        makeButton('b', null, Cmd.SST, Cmd.LT),\n        makeButton('b', null, Cmd.RtX, Cmd.L0),\n        makeButton('w', 'Numpad7', Cmd.Num7, Cmd.sin, Cmd.int, '7'),\n        makeButton('w', 'Numpad8', Cmd.Num8, Cmd.cos, Cmd.frac, '8'),\n        makeButton('w', 'Numpad9', Cmd.Num9, Cmd.tg, Cmd.max, '9'),\n        makeButton('w', 'NumpadSustract', Cmd.Minus, Cmd.sqrt),\n        makeButton('w', 'NumpadDivide', Cmd.Div, Cmd.antifunc),\n    ],\n    [\n        makeButton('k', 'Control', Cmd.K),\n        makeButton('b', null, Cmd.BST, Cmd.EQ),\n        makeButton('b', null, Cmd.XtR, Cmd.L1),\n        makeButton('w', 'Numpad4', Cmd.Num4, Cmd.asin, Cmd.abs, '4'),\n        makeButton('w', 'Numpad5', Cmd.Num5, Cmd.acos, Cmd.sign, '5'),\n        makeButton('w', 'Numpad6', Cmd.Num6, Cmd.atg, Cmd.tau_m, '6'),\n        makeButton('w', 'NumpadAdd', Cmd.Plus, Cmd.pi, Cmd.tau_m),\n        makeButton('w', 'NumpadMultiply', Cmd.Mul, Cmd.sqr, null),\n    ],\n    [\n        makeButton('b', null, Cmd.EPROM_TRANSFERR),\n        makeButton('b', null, Cmd.RTN, Cmd.GT),\n        makeButton('b', null, Cmd.goto, Cmd.L2),\n        makeButton('w', 'Numpad1', Cmd.Num1, Cmd.exp, null, '1'),\n        makeButton('w', 'Numpad2', Cmd.Num2, Cmd.lg, null, '2'),\n        makeButton('w', 'Numpad3', Cmd.Num3, Cmd.ln, Cmd.tau_ms, '3'),\n        makeButton('w', null, Cmd.Swap, Cmd.rXY, Cmd.tau_ms),\n        makeButton('w', 'NumpadEnter', Cmd.Enter, Cmd.RestoreX, Cmd.random, 'e'),\n    ],\n    [\n        makeButton('b', null, Cmd.EPROM_ADDRESS),\n        makeButton('b', null, Cmd.R_S, Cmd.NEQ),\n        makeButton('b', null, Cmd.Sub, Cmd.L3),\n        makeButton('w', 'Numpad0', Cmd.Num0, Cmd.r10x, Cmd.NOP, '0'),\n        makeButton('w', 'NumpadDecimal', Cmd.Dot, Cmd.Ring, Cmd.and, 'a'),\n        makeButton('w', null, Cmd.Sign, Cmd.AUTO, Cmd.or, 'b'),\n        makeButton('w', null, Cmd.EntExp, Cmd.PROGRAM, Cmd.xor, 'c'),\n        makeButton('r', null, Cmd.ClX, Cmd.CF, Cmd.not, 'd'),\n    ],\n];\n","import { declareAction } from '@reatom/core';\nimport { MKButton } from '../../elektronika/common';\n\nconst NS = 'mk-core';\n\nexport const pressButton = declareAction<MKButton>(NS + ':pressButton');\n","import { declareAtom } from '@reatom/core';\nimport { Calculator } from '../../elektronika';\nimport { MK52Core } from '../../elektronika/models/mk52';\nimport { pressButton } from './mk-core.actions';\n\nexport const MKCore = declareAtom<Calculator>(\n    ['mk-core'],\n    new Calculator(MK52Core),\n    on => [\n        on(pressButton, (state, button) => state.keyPress(button)),\n    ],\n);\n","import * as React from 'react';\nimport { Cmd } from '../elektronika/core/commands';\nimport { Program } from '../elektronika/core/program';\n\nimport './Debug.scss';\nimport { useAtom } from '@reatom/react';\nimport { RegisterName } from '../elektronika/core/registers';\nimport { MKCore } from '../models/mk-core/mk-core.atom';\n\nexport const Debug = () => {\n    const keys = useAtom(MKCore, state => state.keys, []);\n    const stack = useAtom(MKCore, state => state.stack, []);\n    const registers = useAtom(MKCore, state => state.registers, []);\n    const program = useAtom(MKCore, state => viewProgramBytes(state.program), []);\n\n    return <div className=\"page-debug\">\n        <table>\n            <thead>\n            <tr>\n                <th colSpan={2}>Stack:</th>\n                <th colSpan={2}>Registers:</th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr>\n                <td>t:</td>\n                <td>\"<code>{stack.t.toString()}</code>\"</td>\n                <td>0:</td>\n                <td><code>{registers.get(RegisterName.R0).toString()}</code></td>\n                <td>5:</td>\n                <td><code>{registers.get(RegisterName.R5).toString()}</code></td>\n                <td>A:</td>\n                <td><code>{registers.get(RegisterName.RA).toString()}</code></td>\n            </tr>\n            <tr>\n                <td>z:</td>\n                <td>\"<code>{stack.z.toString()}</code>\"</td>\n                <td>1:</td>\n                <td><code>{registers.get(RegisterName.R1).toString()}</code></td>\n                <td>6:</td>\n                <td><code>{registers.get(RegisterName.R6).toString()}</code></td>\n                <td>B:</td>\n                <td><code>{registers.get(RegisterName.RB).toString()}</code></td>\n            </tr>\n            <tr>\n                <td>y:</td>\n                <td>\"<code>{stack.y.toString()}</code>\"</td>\n                <td>2:</td>\n                <td><code>{registers.get(RegisterName.R2).toString()}</code></td>\n                <td>7:</td>\n                <td><code>{registers.get(RegisterName.R7).toString()}</code></td>\n                <td>C:</td>\n                <td><code>{registers.get(RegisterName.RC).toString()}</code></td>\n            </tr>\n            <tr>\n                <td>x:</td>\n                <td>\"<code>{stack.x.toString()}</code>\"</td>\n                <td>3:</td>\n                <td><code>{registers.get(RegisterName.R3).toString()}</code></td>\n                <td>8:</td>\n                <td><code>{registers.get(RegisterName.R7).toString()}</code></td>\n                <td>D:</td>\n                <td><code>{registers.get(RegisterName.RC).toString()}</code></td>\n            </tr>\n            <tr>\n                <td>x1:</td>\n                <td>\"<code>{stack.x1.toString()}</code>\"</td>\n                <td>4:</td>\n                <td><code>{registers.get(RegisterName.R4).toString()}</code></td>\n                <td>9:</td>\n                <td><code>{registers.get(RegisterName.R9).toString()}</code></td>\n                <td>E:</td>\n                <td><code>{registers.get(RegisterName.RE).toString()}</code></td>\n            </tr>\n            </tbody>\n        </table>\n        <table className=\"program\">\n            <thead>\n            <tr>\n                <th colSpan={11}>Program:</th>\n            </tr>\n            <tr>\n                <th/>\n                <th>0</th>\n                <th>1</th>\n                <th>2</th>\n                <th>3</th>\n                <th>4</th>\n                <th>5</th>\n                <th>6</th>\n                <th>7</th>\n                <th>8</th>\n                <th>9</th>\n            </tr>\n            </thead>\n            <tbody>\n            {program.map((line: string[], index: number) =>\n                <tr key={index}>\n                    <th>{index < 10 ? index : 'A'}</th>\n                    {line.map((cmd, cmdi) =>\n                        <td key={cmdi}>{cmd}</td>,\n                    )}</tr>,\n            )}\n            </tbody>\n        </table>\n    </div>;\n};\n\nfunction viewProgramBytes(program: Program): string[][] {\n    return program.bytes\n        //.reduceRight((codes: Cmd[], code: Cmd, index: number) => {\n        //    if (!codes.length && code === '00' && index)\n        //        return [];\n        //    codes.unshift(code);\n        //    return codes;\n        //}, [])\n                  .reduce(\n                      (codes: string[][], command: Cmd): string[][] => {\n                          const cmd: string = (command as string).toLowerCase();\n                          let line = codes[codes.length - 1];\n                          if (line.length >= 10)\n                              line = codes[codes.length] = [];\n\n                          line.push(cmd);\n                          return codes;\n                      },\n                      [[]],\n                  );\n}\n","export interface IGithubState {\n    uri: string;\n    dirs: IDir[];\n    files: IFile[];\n    loading: boolean;\n    urlDetails: IGithubUrlDetails;\n}\n\nexport interface IGithubUrlDetails {\n    type: UrlType;\n    vendor?: string;\n    repo?: string;\n    branch?: string;\n    path?: string;\n}\n\nexport enum UrlType {\n    Invalid,\n    Repository,\n    Directory,\n    Programm,\n    OtherFile,\n}\n\nexport interface IFile {\n    path: string;\n    title: string;\n}\n\nexport interface IDir {\n    name: string;\n    path: string;\n}\n\nexport interface IGithubTreeNode {\n    path: string;\n    mode: string;\n    type: 'blob' | 'tree';\n    size?: number;\n    sha: string;\n    url: string;\n}\n","import { declareAction } from '@reatom/core';\n\nconst NS = 'github';\n\nexport const loadList = declareAction<any>(NS + ':loadList');\nexport const loadListFailed = declareAction<any>(NS + ':loadListFailed');\nexport const loadUri = declareAction<any>(NS + ':loadUri');\nexport const loadingUri = declareAction<any>(NS + ':loadingUri');\nexport const loadUriFailed = declareAction<any>(NS + ':loadUriFailed');\n","import { declareAtom } from '@reatom/core';\nimport { IGithubState, UrlType } from './github.types';\nimport { loadingUri, loadList, loadListFailed, loadUri, loadUriFailed } from './github.actions';\n\nexport const Github = declareAtom<IGithubState>(\n    ['github'],\n    {\n        uri: 'arswarog/mk52-programs/blob/master',\n        files: [\n            //{\n            //    path : '/math-basic/quadratic_equation.mk',\n            //    title: 'Решение квадратного линейного уравнения',\n            //},\n        ],\n        dirs: [],\n        loading: false,\n        urlDetails: {\n            type: UrlType.Programm,\n            vendor: 'arswarog',\n            repo: 'mk52_programs',\n            branch: 'master',\n            path: '/',\n        },\n    },\n    on => [\n        on(loadList, (state, action) => {\n            return {\n                ...state,\n                files: action.tree.tree\n                             .filter((item: any) => item.type === 'blob' && item.path.match(/\\.mk$/))\n                             .map(\n                                 (item: any) => ({\n                                     path: item.path,\n                                     title: '/' + item.path.match(/^(.+)\\.mk$/)[1],\n                                 }),\n                             ),\n            };\n        }),\n        on(loadListFailed, (state, action) => {\n            console.error(action.error.message);\n            console.info(`More info on ${action.error.documentation_url}`);\n            return {\n                ...state,\n                loading: false,\n            };\n        }),\n        on(loadingUri, (state) => {\n            return {\n                ...state,\n                loading: true,\n            };\n        }),\n        on(loadUri, (state) => {\n            return {\n                ...state,\n                loading: true,\n            };\n        }),\n        on(loadUriFailed, (state) => {\n            return {\n                ...state,\n                loading: false,\n            };\n        }),\n    ],\n);\n","import * as React from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Github.scss';\nimport { useAction, useAtom } from '@reatom/react';\nimport { Github } from '../models/github/github.atom';\nimport { loadUri } from '../models/github/github.actions';\n\nexport const GithubPage = () => {\n    const uri = useAtom(Github, state => state.uri, []);\n    const urlDetails = useAtom(Github, state => state.urlDetails, []);\n    const dirs = useAtom(Github, state => state.dirs, []);\n    const files = useAtom(Github, state => state.files, []);\n\n    const handleLoadUri = useAction(loadUri);\n\n    return <div className=\"page-github\">\n        <div className=\"center\">ВСЕ ПРОГРАММЫ</div>\n        {/*<form action=\"#/github\" method=\"get\">*/}\n        {/*/!*<input name=\"uri\" placeholder=\"https://github.com/arswarog/mk52-programs\" value={uri}/>*!/*/}\n        {/*<input name=\"uri\" placeholder=\"https://github.com/arswarog/mk52-programs\"*/}\n        {/*value=\"https://github.com/arswarog/mk52-programs/blob/master/math-basic/quadratic_equation.mk\"/>*/}\n        {/*<button type=\"submit\">Загрузить</button>*/}\n        {/*</form>*/}\n        <div className=\"url_info\">\n            {/*<div className=\"repository\">*/}\n            {/*Репозиторий: <a href={`https://github.com/${urlDetails.vendor}`}*/}\n            {/*target=\"_blank\" className=\"author\">{urlDetails.vendor}</a>*/}\n            {/*/<a href={`https://github.com/${urlDetails.vendor}/${urlDetails.repo}`}*/}\n            {/*target=\"_blank\" className=\"repo\">{urlDetails.repo}</a>*/}\n            {/*</div>*/}\n            {/*<div className=\"branch\">*/}\n            {/*Ветка: <Link to={`/github/${urlDetails.vendor}/${urlDetails.repo}/${urlDetails.branch}`}>*/}\n            {/*{urlDetails.branch}</Link>*/}\n            {/*</div>*/}\n            {/*<div className=\"path\">*/}\n            {/*Фаил: <span>/</span><span>math-basic/</span><span>quadratic_equation.mk</span>*/}\n            {/*</div>*/}\n        </div>\n        {dirs.length ? [\n            <h2 key=\"title\">Директории</h2>,\n            <ul key=\"list\">\n                {dirs.map(\n                    (item, index) =>\n                        <li key={index}><Link to={`${item}`}><b>{item}</b></Link></li>,\n                )}\n            </ul>,\n        ] : null}\n        {files.length ? [\n            <h2 key=\"title\">Файлы</h2>,\n            <ul key=\"list\">\n                {files.map(\n                    (item, index) =>\n                        <li key={index}><a /*to={`/github/${item.path}`}*/\n                            onClick={() => handleLoadUri(item.path)}>{item.title}</a>\n                        </li>,\n                )}\n            </ul>,\n        ] : null}\n    </div>;\n};\n","import * as React from 'react';\n\nimport './Github.scss';\nimport { useAtom } from '@reatom/react';\nimport { Github } from '../models/github/github.atom';\nimport { useParams } from 'react-router';\n\nexport const GithubView = () => {\n    const params = useParams() as any; // FIXME G\n    //props.match.params[0],\n    console.log(params);\n    const path = params[0];\n    const uri = useAtom(Github, state => state.uri, []);\n    const urlDetails = useAtom(Github, state => state.urlDetails, []);\n    const dirs = useAtom(Github, state => state.dirs, []);\n    const files = useAtom(Github, state => state.files, []);\n\n    return <div className=\"page-github\">\n        <div className=\"center\">ВСЕ ПРОГРАММЫ</div>\n        <p>Файл: {path}</p>\n    </div>;\n};\n","import * as React from 'react';\n\nimport './CmdSet.scss';\nimport { Cmd } from '../elektronika/core/commands';\nimport { Program as CoreProgram } from '../elektronika/core/program';\nimport { programToView } from '../elektronika/viewTools';\n\n// tslint:disable\nconst prg = programToView({\n    bytes: [\n        'КППЕ', '48', 'КППЕ', '6В', '67', Cmd.Num2, Cmd.Mul, 'ПП', 'A0', 'В↑',\n        'КПх8', Cmd.Plus, 'КхП8', Cmd.Swap, Cmd.Num7, Cmd.r10x, Cmd.Plus, '68', '6С', Cmd.Div,\n        Cmd.Plus, '6d', 'K⊕', 'K{x}', 'В↑', 'ВП', Cmd.Num7, 'С/П', '48', '69',\n        '01', Cmd.Plus, '49', 'КПх8', '67', Cmd.Minus, 'КхП8', Cmd.Num1, Cmd.Minus, 'Fx<o',\n        '44', Cmd.Num0, Cmd.goto, '47', 'КПх8', '6С', Cmd.Plus, 'КхП8', 'K{x}', '6С',\n        Cmd.Num5, Cmd.Mul, Cmd.Minus, 'Fx≥o', '68', 'КПх5', '65', Cmd.Num3, Cmd.Minus, 'Fx≥o',\n        '65', '6А', 'ПхД', 'KΛ', 'C/П', 'КПх8', 'K[х]', 'КхП8', 'FL0', '00',\n        Cmd.ClX, '46', Cmd.Num5, '40', '67', 'КПх0', Cmd.Minus, 'Fx≥o', '92', 'FBx',\n        'Fx=o', '83', 'КПх6', '60', 'FL0', '73', '66', Cmd.Num3, Cmd.Minus, 'Kx≥oC',\n        '6А', 'С/П', Cmd.Num1, '40', Cmd.Num4, '6В', Cmd.pi, Cmd.Mul, 'K{x}', '4В',\n        Cmd.Mul, Cmd.Num1, Cmd.Plus, 'K[х]', 'В/О',\n        //'0e', '51', '5e', '41', '06', '0e', '02', '1c', '03', '5b',\n        //'01', '03', '59', '50', '5b', '4e', '51', '1c', '20', '51',\n        //'02', '44', '4c', '42', '06', '4e', '20', '1c', '43', '5b',\n        //'03', '20', '57', '03', '51', '0e', '20', '1c', '20', '06',\n        //'04', '51', '03', '51', '40', '1c', '0e', '5b', '05', '20',\n        //'1c', '0e', '5b', '0e', '43', '1c', '20', '51', '06', '20',\n        //'1c', '04', '51', '4e', '51', '1c', '04', '09', '03', '20',\n        //'57', '51', '0e', '20', '1c', '20', '06', '04', '51', '03',\n        //'51', '5b', '0e', '20', '1c', '0e', '5b', '05', '20', '1c',\n        //'0e', '5b', '0e', '03', '1c', '20', '51', '06', '20', '1c',\n        //'04', '51', '0e', '51', '1c',\n    ],\n} as CoreProgram);\n\nexport const CmdSet = () => {\n    return <div className=\"page-program\">\n        <div className=\"center\">ПРОГРАММА</div>\n        <table>\n            <thead>\n            <tr>\n                <th/>\n                <th>0</th>\n                <th>1</th>\n                <th>2</th>\n                <th>3</th>\n                <th>4</th>\n                <th>5</th>\n                <th>6</th>\n                <th>7</th>\n                <th>8</th>\n                <th>9</th>\n                <th>A</th>\n                <th>B</th>\n                <th>C</th>\n                <th>D</th>\n                <th>E</th>\n                <th>F</th>\n            </tr>\n            </thead>\n            <tbody>\n            {prg.map((line, index) =>\n                <tr key={index}>\n                    <th>{index < 10 ? index : 'A'}</th>\n                    {line.map((cmd, cmdi) =>\n                        <td key={cmdi}>{cmd}</td>,\n                    )}</tr>,\n            )}</tbody>\n        </table>\n    </div>;\n};\n","import * as React from 'react';\nimport { MKButton } from '../elektronika/common';\n\nexport interface IButton {\n    config: MKButton,\n    press: (key: MKButton) => void;\n}\n\nexport class Button extends React.Component<IButton> {\n    constructor(props: IButton) {\n        super(props);\n    }\n\n    public render() {\n        const cfg   = this.props.config;\n        const press = () => this.props.press(cfg);\n\n        return (\n            <td>\n                {cfg.textf}&nbsp;<i>{cfg.textk}</i>\n                <span className=\"outer\">\n                    <span onClick={press} className={cfg.color}>{cfg.text}</span>\n                </span>\n                <b>{cfg.registerText}</b>\n            </td>\n        );\n    }\n}","import * as React from \"react\";\nimport { Button } from \"./Button\";\nimport { MKButton } from \"../elektronika/common\";\n\nimport './CalcKeyboard.scss';\n\nexport interface IKeyboardProps {\n    keyboard: MKButton[][];\n    pressButton: (key: MKButton) => void;\n}\n\nexport interface IKeyboardState {\n    modeF?: boolean;\n    modeK?: boolean;\n}\n\nexport class CalcKeyboard extends React.Component<IKeyboardProps, IKeyboardState> {\n    constructor(props: IKeyboardProps, state: IKeyboardState) {\n        super(props, state);\n    }\n\n    public render() {\n        let html = this.props.keyboard.map((btns, index) => (\n            <tr key={`row${index}`}>\n                {btns.map((btn, kindex) => <Button key={btn.key || kindex} config={btn} press={this.props.pressButton}/>)}\n            </tr>\n        ));\n\n        return (\n            <table className=\"keyboard\">\n                <tbody>\n                {html}\n                </tbody>\n            </table>\n        );\n    }\n\n    //private press(btn: MKButton) {\n    //    if (btn.key !== 'A1' && btn.key !== 'B1') {\n    //        let key = btn.cmd;\n    //        if (this.state.modeF && btn.cmdf)\n    //            key = btn.cmdf;\n    //        if (this.state.modeK && btn.cmdk)\n    //            key = btn.cmdk;\n    //        this.setState({\n    //            modeK: false,\n    //            modeF: false,\n    //        });\n    //        return this.props.pressButton(key);\n    //    }\n    //\n    //    let state: IKeyboardState = {};\n    //    if (this.state.modeK || this.state.modeF) {\n    //        state = {\n    //            modeK: false,\n    //            modeF: false,\n    //        };\n    //    } else {\n    //        if (btn.key === 'A1')\n    //            state.modeF = true;\n    //        if (btn.key === 'B1')\n    //            state.modeK = true;\n    //    }\n    //    this.setState(state);\n    //}\n}\n","import { declareAction } from '@reatom/core';\nimport { MKButton } from '../../elektronika/common';\n\nconst NS = 'keyboard';\n\nexport const setKeyboardLayout = declareAction<MKButton[][]>(NS + ':set');\n\n","import { declareAtom } from '@reatom/core';\nimport { IKeyboardState } from './keyboard.types';\nimport { setKeyboardLayout } from './keyboard.actions';\n\nexport const Keyboard = declareAtom<IKeyboardState>(\n    ['keyboard'],\n    [],\n    on => [\n        on(setKeyboardLayout, (_, payload) => payload),\n    ],\n);\n","import * as React from 'react';\nimport { CalcKeyboard } from './CalcKeyboard';\n\nimport './Calculator.scss';\nimport { useAction, useAtom } from '@reatom/react';\nimport { MKCore } from '../models/mk-core/mk-core.atom';\nimport { pressButton } from '../models/mk-core/mk-core.actions';\nimport { Keyboard } from '../models/keyboard/keyboard.atom';\n\nexport const Calculator = () => {\n    const display = useAtom(MKCore, state => state.display(), []);\n    const className = useAtom(MKCore, state => '', []); // getDisplayClassName(state.mk);\n    const keyboard = useAtom(Keyboard, state => state, []);\n\n    const handlerPressButton = useAction(pressButton);\n\n    return (\n        <div>\n            <div className=\"mk52\">\n                <div className=\"top\">\n                    <div/>\n                    <div/>\n                    <div/>\n                    <div/>\n                </div>\n                <div className=\"main\">\n                    <div className=\"left\">\n                        <div className=\"logo\"><span>ЭЛЕКТРОНИКА</span><span>МК52</span></div>\n                        <div className=\"display inset\">\n                            <div>\n                                <div className=\"phantom\">-88888888-88</div>\n                                <div>{display}</div>\n                            </div>\n                        </div>\n                        <div className=\"switches inset\">\n                            <div className=\"switch\"/>\n                            <div className=\"switch\"/>\n                            <div className=\"switch\"/>\n                            <div className=\"switch\"/>\n                        </div>\n                    </div>\n                    <div className=\"right\">\n                        <div className=\"keyboard\">\n                            <CalcKeyboard keyboard={keyboard} pressButton={handlerPressButton}/>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            {/*<table className=\"mk52\">*/}\n            {/*<tbody>*/}\n            {/*<tr>*/}\n            {/*<td className=\"mk_a0\" colSpan={3}>&nbsp;</td>*/}\n            {/*<td className=\"mk_a3\">&nbsp;</td>*/}\n            {/*<td className=\"mk_a4\">&nbsp;</td>*/}\n            {/*</tr>*/}\n            {/*<tr>*/}\n            {/*<td className=\"mk_b0\">&nbsp;</td>*/}\n            {/*<td className=\"mk_b1\">*/}\n            {/*<span className=\"display\">-8.abcdef0-19</span>*/}\n            {/*/!*<span className=\"display\" ng-class=\"{wait: wait, run: run}\">{this.props.display.real}</span>*!/*/}\n            {/*</td>*/}\n            {/*<td className=\"mk_b2\">&nbsp;</td>*/}\n            {/*<td className=\"mk_b3\" rowSpan={3}>*/}\n            {/*<div className=\"inset\"/>*/}\n            {/*</td>*/}\n            {/*<td className=\"mk_b4\" rowSpan={3}>&nbsp;</td>*/}\n            {/*</tr>*/}\n            {/*<tr>*/}\n            {/*<td className=\"mk_c0\">&nbsp;</td>*/}\n            {/*<td className=\"mk_c1\">&nbsp;</td>*/}\n            {/*<td className=\"mk_c2\">&nbsp;</td>*/}\n            {/*</tr>*/}\n            {/*<tr>*/}\n            {/*<td className=\"mk_d0\">&nbsp;</td>*/}\n            {/*<td className=\"mk_d1\">*/}\n            {/*<button className=\"btn btn-default\" onClick={reset}>Reset</button>*/}\n            {/*</td>*/}\n            {/*<td className=\"mk_d2\">&nbsp;</td>*/}\n            {/*</tr>*/}\n            {/*<tr>*/}\n            {/*<td className=\"mk_e0\">&nbsp;</td>*/}\n            {/*<td className=\"mk_e1\">&nbsp;</td>*/}\n            {/*<td className=\"mk_e2\">&nbsp;</td>*/}\n            {/*<td className=\"mk_e3\">&nbsp;</td>*/}\n            {/*<td className=\"mk_e4\">&nbsp;</td>*/}\n            {/*</tr>*/}\n            {/*</tbody>*/}\n            {/*</table>*/}\n        </div>\n    );\n};\n","import React, { useEffect } from 'react';\nimport { Redirect, Route, Switch } from 'react-router';\n\nimport './App.scss';\n\nimport { IStickerProps, Sticker } from './components/Sticker';\nimport { Program } from './pages/Program';\nimport { AboutPage } from './pages/About';\nimport { Programs } from './pages/Programs';\nimport { Debug } from './pages/Debug';\nimport { GithubPage } from './pages/Github';\nimport { GithubView } from './pages/GithubView';\nimport { CmdSet } from './pages/CmdSet';\nimport { Calculator } from './components/Calculator';\nimport { useAtom } from '@reatom/react';\nimport { initKeyboard } from './keyboard';\nimport { Keyboard } from './models/keyboard/keyboard.atom';\n\nconst stickers: IStickerProps[] = [\n    {\n        rotate: -3,\n        hueRotate: 120,\n        link: '/about',\n        text: 'Описание',\n        desc: 'Что такое МК52',\n    },\n    {\n        rotate: 12,\n        hueRotate: 0,\n        link: '/code',\n        text: 'Программа',\n        desc: 'Надеюсь, будет работать',\n    },\n    {\n        rotate: 5,\n        hueRotate: 31,\n        //    link     : '/debug',\n        //    text     : 'Отладка',\n        //    desc     : 'Регистры, стек и др.',\n        //},\n        //{\n        //    rotate   : -3,\n        //    hueRotate: 180,\n        //    link     : '/programs',\n        //    text     : 'Программы',\n        //    desc     : 'Мои творения',\n        //},\n        //{\n        //    rotate   : 16,\n        //    hueRotate: 60,\n        link: '/github',\n        text: 'Другие программы',\n        desc: 'Не только мои творения',\n    },\n];\n\nfunction App() {\n    return (\n        <div>\n            <Calculator/>\n            {/*<img src={original} width=\"100%\"/>*/}\n            <div className=\"paper\">\n                <div className=\"content\">\n                    <Switch>\n                        <Route path=\"/code\" component={Program}/>\n                        <Route path=\"/about\" component={AboutPage}/>\n                        <Route path=\"/programs\" component={Programs}/>\n                        <Route path=\"/debug\" component={Debug}/>\n                        <Route path=\"/github\" exact={true} component={GithubPage}/>\n                        <Route path=\"/github/(.*)\" component={GithubView}/>\n                        <Route path=\"/commands\" component={CmdSet}/>\n                        <Redirect path=\"/\" exact={true} to=\"/about\"/>\n                    </Switch>\n                </div>\n                <div className=\"stickers\">\n                    {stickers.map(\n                        (sticker, index) => <Sticker {...sticker} key={index}/>,\n                    )}\n                    {/*{stickers.map(*/}\n                    {/*(sticker, index) =>*/}\n                    {/*<div className=\"sticker\" key={index}>*/}\n                    {/*<div style={{*/}\n                    {/*backgroundImage: 'url(https://www.picpng.com/images/large/sticky-notes-download-png-32163)',*/}\n                    {/*transform      : `rotate(${sticker.rotate}deg)`,*/}\n                    {/*filter         : `hue-rotate(${sticker.hueRotate}deg)`,*/}\n                    {/*}}>*/}\n                    {/*<NavLink to={sticker.link} activeClassName=\"active\">*/}\n                    {/*<h5>{sticker.text}</h5>*/}\n                    {/*{sticker.desc}*/}\n                    {/*<img src={underline}/>*/}\n                    {/*</NavLink>*/}\n                    {/*</div>*/}\n                    {/*</div>,*/}\n                    {/*)}*/}\n                </div>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { MKButton } from './elektronika/common';\nimport { store } from './store';\nimport { Keyboard } from './models/keyboard/keyboard.atom';\nimport { pressButton } from './models/mk-core/mk-core.actions';\n\nconst keyReplaceMap = {\n    Digit1: 'Numpad1',\n    Digit2: 'Numpad2',\n    Digit3: 'Numpad3',\n    Digit4: 'Numpad4',\n    Digit5: 'Numpad5',\n    Digit6: 'Numpad6',\n    Digit7: 'Numpad7',\n    Digit8: 'Numpad8',\n    Digit9: 'Numpad9',\n    Digit0: 'Numpad0',\n    //ShiftRight  : 'Shift',\n    //ShiftLeft   : 'Shift',\n    //ControlRight: 'Control',\n    //ControlLeft : 'Control',\n};\n\nlet keyMap: { [key: string]: MKButton } = {};\n\nexport function initKeyboard(buttons: MKButton[][]): void {\n    keyMap = {};\n    buttons.forEach(\n        row => row.forEach(\n            btn => {\n                if (btn.kbCode)\n                    keyMap[btn.kbCode] = btn;\n            },\n        ),\n    );\n}\n\nexport function keyboard(dispatch: any) {\n    return (event: KeyboardEvent) => {\n        let code = event.code;\n\n        if (code in keyReplaceMap)\n            code = keyReplaceMap[code];\n\n        if (code in keyMap)\n            dispatch(pressButton(keyMap[code]));\n    };\n}\n","import { combine, createStore } from '@reatom/core';\nimport { connectReduxDevtools } from '@reatom/debug';\nimport { MKCore } from './models/mk-core/mk-core.atom';\nimport { Keyboard } from './models/keyboard/keyboard.atom';\n\nexport const store = createStore(\n    combine({\n        core: MKCore,\n        keyboard: Keyboard,\n    }),\n);\n\nconnectReduxDevtools(store);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { HashRouter as Router } from 'react-router-dom';\nimport './scss/index.scss';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport { createBrowserHistory } from 'history';\nimport { context } from '@reatom/react';\nimport { initKeyboard, keyboard } from './keyboard';\nimport { store } from './store';\nimport { Keyboard } from './models/keyboard/keyboard.atom';\nimport { setKeyboardLayout } from './models/keyboard/keyboard.actions';\nimport { MK52Keyboard } from './elektronika/models/mk52';\n\ndocument.addEventListener('keydown', keyboard(store.dispatch.bind(store)));\n\nstore.subscribe(Keyboard, initKeyboard);\n\nstore.dispatch(setKeyboardLayout(MK52Keyboard));\n\nReactDOM.render(\n    <React.StrictMode>\n        <context.Provider value={store}>\n            <Router>\n                <App/>\n            </Router>\n        </context.Provider>\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}